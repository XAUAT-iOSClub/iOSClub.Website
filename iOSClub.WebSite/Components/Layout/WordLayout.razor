@layout HomeLayout
@inherits LayoutComponentBase

<Drawer Placement="top" Closable="false"
        Visible="@_drawerVisible"
        Height="340"
        OnClose="@(() => _drawerVisible = false)">
    <Flex Gap="large" Justify="space-between">
        <Image Src="iOS_Club_LOGO.png" Preview="false" Style="width:40px; height:40px"/>
        <div style="font-size: 24px;font-weight: bold;color: #1c1f23">社团文章</div>
    </Flex>
    @Menu
</Drawer>

<GridRow>
    <GridCol Class="desktop-laptop" Xl="4" Xxl="4">
        @Menu
    </GridCol>
    <GridCol Xs="24" Sm="24" Md="24" Lg="24" Xl="20" Xxl="20">
        <div style="padding: 20px;min-height: 100%;overflow: auto">
            <Button Type="@ButtonType.Text" Class="phone-desktop" OnClick="@(() => _drawerVisible = true)">
                <Icon Type="menu" Theme="outline"/>
                <span style="margin-left: 10px">导航</span>
            </Button>
            @Body
            <BackTop Style="margin-bottom:60px">
                <div class="ant-back-top-inner">
                    <Icon Type="arrow-up" Theme="outline"/>
                </div>
            </BackTop>
        </div>
    </GridCol>
</GridRow>

@code
{
    private bool _drawerVisible;
    private void Close() => _drawerVisible = false;
    private RenderFragment Menu =>
        @<Template>
            <Menu Theme="MenuTheme.Light"
                  Mode="MenuMode.Inline" Class="menu-block">
                <MenuItemGroup Class="group-block">
                    <TitleTemplate>
                        <div class="group-title">
                            社团简介
                        </div>
                    </TitleTemplate>
                    <ChildContent>
                        <MenuItem RouterLink="/About" RouterMatch="NavLinkMatch.All" OnClick="@Close">关于我们</MenuItem>
                        <MenuItem RouterLink="/Structure" RouterMatch="NavLinkMatch.All" OnClick="@Close">社团结构</MenuItem>
                        <MenuItem RouterLink="/OtherOrg" RouterMatch="NavLinkMatch.All" OnClick="@Close">其他组织</MenuItem>
                    </ChildContent>
                </MenuItemGroup>
                <MenuItemGroup Class="group-block">
                    <TitleTemplate>
                        <div class="group-title">
                            竟赛资源
                        </div>
                    </TitleTemplate>
                    <ChildContent>
                        <MenuItem RouterLink="/Article/Competitions" RouterMatch="NavLinkMatch.All" OnClick="@Close">资源支持</MenuItem>
                        <MenuItem RouterLink="/Article/MobileApplication" RouterMatch="NavLinkMatch.All" OnClick="@Close">移动应用创新赛</MenuItem>
                        <MenuItem RouterLink="/Article/Swift" RouterMatch="NavLinkMatch.All" OnClick="@Close">WWDC-Swift学生挑战赛</MenuItem>
                    </ChildContent>
                </MenuItemGroup>
                <MenuItemGroup Class="group-block">
                    <TitleTemplate>
                        <div class="group-title">
                            社团活动
                        </div>
                    </TitleTemplate>
                    <ChildContent>
                        <MenuItem RouterLink="/Article/VisionPro" RouterMatch="NavLinkMatch.All" OnClick="@Close">体验最新产品</MenuItem>
                        <MenuItem RouterLink="/Article/PressConference" RouterMatch="NavLinkMatch.All" OnClick="@Close">一起看发布会</MenuItem>
                    </ChildContent>
                </MenuItemGroup>
                <MenuItemGroup Class="group-block">
                    <TitleTemplate>
                        <div class="group-title">
                            社团历史
                        </div>
                    </TitleTemplate>
                    <ChildContent>
                        <MenuItem RouterLink="/Article/History-Overview" RouterMatch="NavLinkMatch.All" OnClick="@Close">总述</MenuItem>
                        <MenuItem RouterLink="/Article/History-Founding" RouterMatch="NavLinkMatch.All" OnClick="@Close">创社史</MenuItem>
                        <MenuItem RouterLink="/Article/History-Shao Han's Reign" RouterMatch="NavLinkMatch.All" OnClick="@Close">邵韩之治</MenuItem>
                    </ChildContent>
                </MenuItemGroup>
            </Menu>
        </Template>;
}

<style>
    
    .group-block{
        padding: 10px;
    }
    
    .menu-block{
        padding-top: 10px;
        padding-left: 10px;
    }

    .group-title {
        padding-bottom: 10px;
        border-bottom: 1px solid #ededed;
    }
    
    .ant-back-top-inner {
        height: 40px;
        width: 40px;
        line-height: 40px;
        border-radius: 20px;
        background-color: #1088e9;
        color: #fff;
        text-align: center;
        font-size: 20px;
    }

    h1, h2, h3, h4, h5, h6 {
        font-weight: bold;
        font-size: x-large;
    }
</style>